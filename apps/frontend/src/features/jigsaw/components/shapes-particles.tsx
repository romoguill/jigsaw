import { useState, useEffect, useCallback } from "react";

const shapes = [
  <svg width="387" height="387" viewBox="-65.5 -65.5 387 387">
    <path d="M 0 0 L 256 0 C 229 31 257 73 255 104 S 214 93 209 101 S 209 136 207 144 S 266 116 255 143 S 235 228 256 256 C 228 286 166 249 144 249 S 153 309 145 311 S 105 321 109 316 S 117 269 94 260 S 39 264 0 256  Z" />
  </svg>,
  <svg width="387" height="387" viewBox="190.5 -65.5 387 387">
    <path d="M 256 0 L 512 0 C 477 25 515 69 522 98 S 570 103 574 110 S 564 150 562 159 S 515 134 516 156 S 529 215 512 256 C 481 268 428 232 401 246 S 414 306 406 307 S 367 320 359 317 S 378 259 351 248 S 284 226 256 256 C 235 228 244 170 255 143 S 205 152 207 144 S 204 109 209 101 S 253 135 255 104 S 229 31 256 0 Z" />
  </svg>,
  <svg width="387" height="387" viewBox="446.5 -65.5 387 387">
    <path d="M 512 0 L 768 0 C 778 38 775 69 768 93 S 727 115 719 110 S 719 138 720 146 S 750 118 759 144 S 799 231 768 256 C 727 270 693 252 668 252 S 672 213 666 208 S 628 207 621 212 S 635 262 613 258 S 543 244 512 256 C 529 215 517 178 516 156 S 560 168 562 159 S 578 117 574 110 S 529 127 522 98 S 477 25 512 0 Z" />
  </svg>,
  <svg width="387" height="387" viewBox="702.5 -65.5 387 387">
    <path d="M 768 0 L 1024 0 C 1014 39 1036 85 1031 112 S 981 114 975 109 S 969 143 976 148 S 1011 128 1015 153 S 995 229 1024 256 C 1003 222 939 246 917 248 S 921 204 913 201 S 864 204 865 210 S 888 253 867 246 S 809 242 768 256 C 799 231 768 170 759 144 S 721 154 720 146 S 711 105 719 110 S 761 117 768 93 S 778 38 768 0 Z" />
  </svg>,
  <svg width="387" height="387" viewBox="958.5 -65.5 387 387">
    <path d="M 1024 0 L 1280 0 L 1280 256 C 1236 270 1203 256 1176 255 S 1174 292 1175 298 S 1134 309 1127 308 S 1145 260 1120 246 S 1045 290 1024 256 C 995 229 1019 178 1015 153 S 983 153 976 148 S 969 104 975 109 S 1026 139 1031 112 S 1014 39 1024 0 Z" />
  </svg>,
  <svg width="387" height="387" viewBox="-65.5 190.5 387 387">
    <path d="M 0 256 C 39 264 71 251 94 260 S 113 311 109 316 S 137 313 145 311 S 122 249 144 249 S 228 286 256 256 C 277 284 270 337 265 364 S 211 342 210 351 S 214 393 212 401 S 249 383 255 413 S 256 478 256 512 C 238 540 175 523 152 512 S 142 556 146 560 S 100 569 101 562 S 133 530 104 521 S 31 506 0 512  Z" />
  </svg>,
  <svg width="387" height="387" viewBox="190.5 190.5 387 387">
    <path
      d="M 256 256 C 284 226 324 237 351 248 S 351 314 359 317 S 398 308 406 307 S 374 260 401 246 S 481 268 512 256 C 495 297 507 341 517 362 S 469 355 462 358 S 463 
  408 469 410 S 506 380 515 410 S 518 479 512 512 C 476 533 438 532 413 520 S 400 554 399 560 S 353 578 350 571 S 384 503 359 507 S 274 484 256 512 C 256 478 261 443 255 413 S 210 409 212 401 S 209 360 210 351 S 260 391 265 364 S 277 284 256 256 Z"
    />
  </svg>,
  <svg width="387" height="387" viewBox="446.5 190.5 387 387">
    <path
      d="M 512 256 C 543 244 591 254 613 258 S 614 217 621 212 S 660 203 666 208 S 643 252 668 252 S 727 270 768 256 C 737 281 763 327 763 351 S 821 367 827 365 S 814 
  403 812 411 S 761 378 766 406 S 797 476 768 512 C 740 496 693 516 669 511 S 662 463 664 456 S 604 462 608 467 S 645 518 619 510 S 548 491 512 512 C 518 479 524 440 515 410 S 475 412 469 410 S 455 361 462 358 S 527 383 517 362 S 495 297 512 256 Z"
    />
  </svg>,
  <svg width="387" height="387" viewBox="702.5 190.5 387 387">
    <path d="M 768 256 C 809 242 846 239 867 246 S 866 216 865 210 S 905 198 913 201 S 895 250 917 248 S 1003 222 1024 256 C 1053 283 1022 339 1016 361 S 975 346 970 353 S 969 409 975 410 S 1037 376 1026 404 S 1054 492 1024 512 C 1006 537 938 523 913 509 S 920 551 921 558 S 873 577 877 572 S 890 514 869 508 S 796 528 768 512 C 797 476 771 434 766 406 S 810 419 812 411 S 833 363 827 365 S 763 375 763 351 S 737 281 768 256 Z" />
  </svg>,
  <svg width="387" height="387" viewBox="958.5 190.5 387 387">
    <path d="M 1024 256 C 1045 290 1095 232 1120 246 S 1120 307 1127 308 S 1176 304 1175 298 S 1149 254 1176 255 S 1236 270 1280 256 L 1280 512 C 1238 491 1196 499 1176 509 S 1182 549 1175 554 S 1121 572 1128 567 S 1163 508 1135 506 S 1042 487 1024 512 C 1054 492 1015 432 1026 404 S 981 411 975 410 S 965 360 970 353 S 1010 383 1016 361 S 1053 283 1024 256 Z" />
  </svg>,
  <svg width="387" height="387" viewBox="-65.5 446.5 387 387">
    <path
      d="M 0 512 C 31 506 75 512 104 521 S 102 555 101 562 S 150 564 146 560 S 129 501 152 512 S 238 540 256 512 C 256 546 277 579 266 606 S 297 608 303 613 S 311 660 
  308 668 S 254 628 248 657 S 273 740 256 768 C 234 798 173 761 143 762 S 151 825 143 823 S 108 819 105 813 S 131 753 109 762 S 40 778 0 768  Z"
    />
  </svg>,
  <svg width="387" height="387" viewBox="190.5 446.5 387 387">
    <path
      d="M 256 512 C 274 484 334 511 359 507 S 347 564 350 571 S 398 566 399 560 S 388 508 413 520 S 476 533 512 512 C 506 545 528 586 522 616 S 460 618 452 615 S 463 
  676 466 671 S 518 645 515 666 S 516 729 512 768 C 469 752 431 782 411 772 S 419 813 412 816 S 353 829 350 821 S 376 784 355 774 S 278 738 256 768 C 273 740 242 686 248 657 S 305 676 308 668 S 309 618 303 613 S 255 633 266 606 S 256 546 256 512 Z"
    />
  </svg>,
  <svg width="387" height="387" viewBox="446.5 446.5 387 387">
    <path
      d="M 512 512 C 548 491 593 502 619 510 S 612 472 608 467 S 666 449 664 456 S 645 506 669 511 S 740 496 768 512 C 739 548 765 588 765 611 S 816 621 823 622 S 821 
  666 817 674 S 761 633 768 663 S 795 735 768 768 C 726 768 695 745 668 759 S 668 823 661 826 S 612 815 604 809 S 634 754 604 762 S 555 784 512 768 C 516 729 512 687 515 666 S 469 666 466 671 S 444 612 452 615 S 516 646 522 616 S 506 545 512 512 Z"
    />
  </svg>,
  <svg width="387" height="387" viewBox="702.5 446.5 387 387">
    <path
      d="M 768 512 C 796 528 848 502 869 508 S 881 567 877 572 S 922 565 921 558 S 888 495 913 509 S 1006 537 1024 512 C 994 532 1031 584 1021 607 S 1061 620 1068 622 
  S 1081 669 1072 669 S 1039 647 1030 668 S 1024 728 1024 768 C 988 782 938 761 912 768 S 938 719 929 717 S 875 700 874 708 S 901 767 879 761 S 810 768 768 768 C 795 735 775 693 768 663 S 813 682 817 
  674 S 830 623 823 622 S 765 634 765 611 S 739 548 768 512 Z"
    />
  </svg>,
  <svg width="387" height="387" viewBox="958.5 446.5 387 387">
    <path d="M 1024 512 C 1042 487 1107 504 1135 506 S 1135 562 1128 567 S 1168 559 1175 554 S 1156 519 1176 509 S 1238 491 1280 512 L 1280 768 C 1248 759 1201 770 1173 760 S 1194 711 1185 708 S 1119 706 1125 711 S 1158 776 1128 777 S 1060 754 1024 768 C 1024 728 1021 689 1030 668 S 1063 669 1072 669 S 1075 624 1068 622 S 1011 630 1021 607 S 994 532 1024 512 Z" />
  </svg>,
  <svg width="387" height="387" viewBox="-65.5 702.5 387 387">
    <path
      d="M 0 768 C 40 778 87 771 109 762 S 102 807 105 813 S 135 821 143 823 S 113 763 143 762 S 234 798 256 768 C 239 796 264 838 260 860 S 311 863 310 870 S 306 923 
  306 930 S 269 894 260 922 S 244 980 256 1024 C 217 1015 177 1009 147 1018 S 161 970 154 971 S 91 955 92 963 S 123 1012 97 1025 S 32 1037 0 1024  Z"
    />
  </svg>,
  <svg width="387" height="387" viewBox="190.5 702.5 387 387">
    <path
      d="M 256 768 C 278 738 334 764 355 774 S 347 813 350 821 S 405 819 412 816 S 391 762 411 772 S 469 752 512 768 C 508 807 505 850 507 878 S 561 866 565 873 S 560 
  902 559 911 S 522 894 523 921 S 486 988 512 1024 C 472 1037 442 1026 416 1024 S 410 1064 414 1071 S 353 1072 350 1064 S 391 1031 366 1028 S 295 1033 256 1024 C 244 980 251 950 260 922 S 306 937 306 
  930 S 309 877 310 870 S 256 882 260 860 S 239 796 256 768 Z"
    />
  </svg>,
  <svg width="387" height="387" viewBox="446.5 702.5 387 387">
    <path
      d="M 512 768 C 555 784 574 770 604 762 S 596 803 604 809 S 654 829 661 826 S 641 773 668 759 S 726 768 768 768 C 741 801 768 840 778 869 S 723 872 723 879 S 717 
  906 719 915 S 788 889 776 914 S 739 988 768 1024 C 732 1035 699 1019 673 1031 S 661 1062 666 1067 S 627 1072 620 1071 S 645 1035 618 1030 S 552 1011 512 1024 C 486 988 524 948 523 921 S 558 920 559 
  911 S 569 880 565 873 S 509 906 507 878 S 508 807 512 768 Z"
    />
  </svg>,
  <svg width="387" height="387" viewBox="702.5 702.5 387 387">
    <path
      d="M 768 768 C 810 768 857 755 879 761 S 873 716 874 708 S 920 715 929 717 S 886 775 912 768 S 988 782 1024 768 C 1024 808 1025 841 1019 868 S 972 856 969 863 S 
  978 907 983 911 S 1024 895 1019 920 S 1052 1005 1024 1024 C 992 1032 945 1041 925 1032 S 932 982 930 974 S 883 967 875 970 S 896 1032 869 1028 S 804 1013 768 1024 C 739 988 764 939 776 914 S 721 924 719 915 S 723 886 723 879 S 788 898 778 869 S 741 801 768 768 Z"
    />
  </svg>,
  <svg width="387" height="387" viewBox="958.5 702.5 387 387">
    <path
      d="M 1024 768 C 1060 754 1098 778 1128 777 S 1131 716 1125 711 S 1176 705 1185 708 S 1145 750 1173 760 S 1248 759 1280 768 L 1280 1024 C 1253 998 1204 1027 1183 
  1031 S 1182 1066 1175 1068 S 1131 1079 1134 1074 S 1158 1040 1132 1030 S 1056 1016 1024 1024 C 1052 1005 1014 945 1019 920 S 988 915 983 911 S 966 870 969 863 S 1013 895 1019 868 S 1024 808 1024 768 Z"
    />
  </svg>,
  <svg width="387" height="387" viewBox="-65.5 958.5 387 387">
    <path
      d="M 0 1024 C 32 1037 71 1038 97 1025 S 93 971 92 963 S 147 972 154 971 S 117 1027 147 1018 S 217 1015 256 1024 C 268 1068 256 1094 251 1124 S 212 1107 207 1115 
  S 208 1166 216 1169 S 259 1154 250 1183 S 277 1249 256 1280 C 230 1250 172 1263 149 1270 S 158 1322 160 1328 S 113 1344 106 1340 S 135 1266 112 1278 S 39 1261 0 1280  Z"
    />
  </svg>,
  <svg width="387" height="387" viewBox="190.5 958.5 387 387">
    <path d="M 256 1024 C 295 1033 341 1025 366 1028 S 347 1056 350 1064 S 418 1078 414 1071 S 390 1022 416 1024 S 472 1037 512 1024 C 538 1060 518 1098 515 1129 S 458 1118 452 1115 S 463 1175 469 1172 S 520 1153 514 1174 S 541 1259 512 1280 C 475 1265 433 1276 409 1275 S 407 1319 413 1325 S 363 1337 364 1328 S 375 1278 348 1281 S 282 1310 256 1280 C 277 1249 241 1212 250 1183 S 224 1172 216 1169 S 202 1123 207 1115 S 246 1154 251 1124 S 268 1068 256 1024 Z" />
  </svg>,
  <svg width="387" height="387" viewBox="446.5 958.5 387 387">
    <path d="M 512 1024 C 552 1011 591 1025 618 1030 S 613 1070 620 1071 S 671 1072 666 1067 S 647 1043 673 1031 S 732 1035 768 1024 C 797 1060 768 1105 767 1132 S 727 1122 718 1124 S 709 1183 718 1184 S 753 1155 762 1174 S 775 1239 768 1280 C 751 1306 691 1279 667 1282 S 671 1332 671 1338 S 614 1343 606 1338 S 638 1277 614 1284 S 549 1295 512 1280 C 541 1259 508 1195 514 1174 S 475 1169 469 1172 S 446 1112 452 1115 S 512 1160 515 1129 S 538 1060 512 1024 Z" />
  </svg>,
  <svg width="387" height="387" viewBox="702.5 958.5 387 387">
    <path
      d="M 768 1024 C 804 1013 842 1024 869 1028 S 867 973 875 970 S 928 966 930 974 S 905 1023 925 1032 S 992 1032 1024 1024 C 996 1043 1029 1107 1029 1134 S 1060 1115 1067 1120 S 1074 1186 1067 1185 S 1036 1155 1033 1186 S 1038 1251 1024 1280 C 992 1273 944 1285 918 1290 S 937 1321 928 1322 S 884 1343 877 1338 S 887 1276 861 1271 S 785 1254 768 1280 C 775 1239 
  771 1193 762 1174 S 727 1185 718 1184 S 709 1126 718 1124 S 766 1159 767 1132 S 797 1060 768 1024 Z"
    />
  </svg>,
  <svg width="387" height="387" viewBox="958.5 958.5 387 387">
    <path
      d="M 1024 1024 C 1056 1016 1106 1020 1132 1030 S 1137 1069 1134 1074 S 1168 1070 1175 1068 S 1162 1035 1183 1031 S 1253 998 1280 1024 L 1280 1280 C 1249 1259 1201 1277 1173 1274 S 1185 1239 1186 1232 S 1126 1226 1130 1230 S 1155 1278 1132 1282 S 1056 1287 1024 1280 C 1038 1251 1030 1217 1033 1186 S 1060 1184 1067 1185 S 1074 1125 1067 1120 S 1029 1161 1029 
  1134 S 996 1043 1024 1024 Z"
    />
  </svg>,
  <svg width="387" height="387" viewBox="-65.5 1214.5 387 387">
    <path d="M 0 1280 C 39 1261 89 1290 112 1278 S 99 1336 106 1340 S 162 1334 160 1328 S 126 1277 149 1270 S 230 1250 256 1280 C 235 1311 253 1356 253 1382 S 301 1370 300 1377 S 310 1431 303 1430 S 238 1414 247 1435 S 247 1496 256 1536 C 212 1549 179 1540 158 1534 S 150 1573 157 1578 S 110 1580 103 1577 S 135 1530 111 1543 S 43 1545 0 1536  Z" />
  </svg>,
  <svg width="387" height="387" viewBox="190.5 1214.5 387 387">
    <path d="M 256 1280 C 282 1310 321 1284 348 1281 S 365 1319 364 1328 S 419 1331 413 1325 S 385 1274 409 1275 S 475 1265 512 1280 C 483 1301 519 1368 515 1391 S 459 1377 454 1381 S 454 1425 455 1431 S 523 1402 522 1425 S 488 1511 512 1536 C 467 1523 422 1537 401 1537 S 421 1581 414 1580 S 359 1592 355 1584 S 390 1544 360 1544 S 300 1523 256 1536 C 247 1496 256 1456 247 1435 S 296 1429 303 1430 S 299 1384 300 1377 S 253 1408 253 1382 S 235 1311 256 1280 Z" />
  </svg>,
  <svg width="387" height="387" viewBox="446.5 1214.5 387 387">
    <path d="M 512 1280 C 549 1295 590 1291 614 1284 S 598 1333 606 1338 S 671 1344 671 1338 S 643 1285 667 1282 S 751 1306 768 1280 C 761 1321 766 1358 776 1382 S 717 1377 717 1384 S 704 1436 710 1436 S 765 1415 769 1437 S 736 1511 768 1536 C 747 1563 690 1553 661 1543 S 659 1584 658 1591 S 610 1588 603 1588 S 633 1530 614 1540 S 557 1549 512 1536 C 488 1511 521 1448 522 1425 S 456 1437 455 1431 S 449 1385 454 1381 S 511 1414 515 1391 S 483 1301 512 1280 Z" />
  </svg>,
  <svg width="387" height="387" viewBox="702.5 1214.5 387 387">
    <path
      d="M 768 1280 C 785 1254 835 1266 861 1271 S 870 1333 877 1338 S 919 1323 928 1322 S 892 1295 918 1290 S 992 1273 1024 1280 C 1010 1309 1045 1368 1034 1388 S 1079 1380 1085 1375 S 1082 1422 1076 1426 S 1028 1414 1029 1438 S 1035 1499 1024 1536 C 987 1532 938 1537 915 1530 S 925 1584 921 1592 S 877 1596 880 1589 S 905 1548 875 1542 S 789 1509 768 1536 C 736 
  1511 773 1459 769 1437 S 716 1436 710 1436 S 717 1391 717 1384 S 786 1406 776 1382 S 761 1321 768 1280 Z"
    />
  </svg>,
  <svg width="387" height="387" viewBox="958.5 1214.5 387 387">
    <path d="M 1024 1280 C 1056 1287 1109 1286 1132 1282 S 1134 1234 1130 1230 S 1187 1225 1186 1232 S 1145 1271 1173 1274 S 1249 1259 1280 1280 L 1280 1536 C 1237 1545 1197 1528 1169 1534 S 1166 1589 1167 1595 S 1136 1590 1134 1581 S 1149 1528 1122 1541 S 1061 1540 1024 1536 C 1035 1499 1030 1462 1029 1438 S 1070 1430 1076 1426 S 1091 1370 1085 1375 S 1023 1408 1034 1388 S 1010 1309 1024 1280 Z" />
  </svg>,
  <svg width="387" height="387" viewBox="-65.5 1470.5 387 387">
    <path d="M 0 1536 C 43 1545 87 1556 111 1543 S 96 1574 103 1577 S 164 1583 157 1578 S 137 1528 158 1534 S 212 1549 256 1536 C 265 1576 263 1604 257 1634 S 296 1628 302 1634 S 305 1671 306 1680 S 257 1657 265 1683 S 225 1763 256 1792 C 227 1821 175 1775 153 1786 S 161 1738 159 1731 S 101 1735 92 1733 S 131 1807 104 1795 S 33 1793 0 1792  Z" />
  </svg>,
  <svg width="387" height="387" viewBox="190.5 1470.5 387 387">
    <path d="M 256 1536 C 300 1523 330 1544 360 1544 S 351 1576 355 1584 S 407 1579 414 1580 S 380 1537 401 1537 S 467 1523 512 1536 C 536 1561 497 1604 503 1632 S 460 1627 452 1631 S 455 1683 461 1686 S 516 1661 509 1687 S 517 1755 512 1792 C 488 1822 434 1802 414 1794 S 410 1846 403 1848 S 362 1859 366 1852 S 375 1811 354 1799 S 285 1763 256 1792 C 225 1763 273 1709 265 1683 S 307 1689 306 1680 S 308 1640 302 1634 S 251 1664 257 1634 S 265 1576 256 1536 Z" />
  </svg>,
  <svg width="387" height="387" viewBox="446.5 1470.5 387 387">
    <path d="M 512 1536 C 557 1549 595 1550 614 1540 S 596 1588 603 1588 S 657 1598 658 1591 S 632 1533 661 1543 S 747 1563 768 1536 C 800 1561 765 1613 774 1642 S 814 1629 813 1636 S 815 1685 812 1693 S 762 1656 765 1686 S 762 1747 768 1792 C 730 1778 693 1781 666 1786 S 668 1841 670 1848 S 603 1846 605 1838 S 633 1791 610 1792 S 536 1762 512 1792 C 517 1755 502 1713 509 1687 S 467 1689 461 1686 S 444 1635 452 1631 S 509 1660 503 1632 S 536 1561 512 1536 Z" />
  </svg>,
  <svg width="387" height="387" viewBox="702.5 1470.5 387 387">
    <path d="M 768 1536 C 789 1509 845 1536 875 1542 S 883 1582 880 1589 S 917 1600 921 1592 S 892 1523 915 1530 S 987 1532 1024 1536 C 1013 1573 1026 1616 1033 1644 S 985 1626 977 1631 S 966 1697 972 1696 S 1014 1658 1018 1683 S 1023 1752 1024 1792 C 997 1819 949 1794 924 1797 S 932 1830 930 1838 S 875 1855 868 1852 S 895 1779 869 1792 S 806 1806 768 1792 C 762 1747 768 1716 765 1686 S 809 1701 812 1693 S 812 1643 813 1636 S 783 1671 774 1642 S 800 1561 768 1536 Z" />
  </svg>,
  <svg width="387" height="387" viewBox="958.5 1470.5 387 387">
    <path d="M 1024 1536 C 1061 1540 1095 1554 1122 1541 S 1132 1572 1134 1581 S 1168 1601 1167 1595 S 1141 1540 1169 1534 S 1237 1545 1280 1536 L 1280 1792 C 1240 1791 1209 1789 1183 1788 S 1177 1845 1170 1847 S 1127 1858 1132 1852 S 1155 1811 1135 1801 S 1051 1765 1024 1792 C 1023 1752 1022 1708 1018 1683 S 978 1695 972 1696 S 969 1636 977 1631 S 1040 1672 1033 1644 S 1013 1573 1024 1536 Z" />
  </svg>,
  <svg width="387" height="387" viewBox="-65.5 1726.5 387 387">
    <path
      d="M 0 1792 C 33 1793 77 1783 104 1795 S 83 1731 92 1733 S 157 1724 159 1731 S 131 1797 153 1786 S 227 1821 256 1792 C 287 1821 255 1874 247 1897 S 313 1904 317 
  1898 S 308 1950 302 1945 S 258 1918 255 1944 S 276 2009 256 2048 C 215 2034 173 2034 144 2043 S 159 2008 151 2005 S 111 1994 111 2000 S 136 2031 109 2044 S 31 2073 0 2048  Z"
    />
  </svg>,
  <svg width="387" height="387" viewBox="190.5 1726.5 387 387">
    <path d="M 256 1792 C 285 1763 333 1787 354 1799 S 370 1845 366 1852 S 396 1850 403 1848 S 394 1786 414 1794 S 488 1822 512 1792 C 507 1829 517 1871 512 1892 S 463 1891 458 1887 S 460 1941 463 1936 S 517 1918 521 1945 S 482 2024 512 2048 C 471 2064 428 2032 402 2046 S 417 1991 411 1987 S 364 1989 357 1991 S 388 2042 364 2052 S 297 2062 256 2048 C 276 2009 252 1970 255 1944 S 296 1940 302 1945 S 321 1892 317 1898 S 239 1920 247 1897 S 287 1821 256 1792 Z" />
  </svg>,
  <svg width="387" height="387" viewBox="446.5 1726.5 387 387">
    <path d="M 512 1792 C 536 1762 587 1793 610 1792 S 607 1830 605 1838 S 672 1855 670 1848 S 639 1791 666 1786 S 730 1778 768 1792 C 774 1837 766 1870 777 1899 S 734 1898 727 1904 S 725 1930 726 1937 S 780 1926 775 1950 S 781 2012 768 2048 C 734 2075 683 2051 655 2055 S 655 2090 660 2094 S 606 2099 607 2090 S 646 2068 618 2057 S 553 2032 512 2048 C 482 2024 525 1972 521 1945 S 466 1931 463 1936 S 453 1883 458 1887 S 507 1913 512 1892 S 507 1829 512 1792 Z" />
  </svg>,
  <svg width="387" height="387" viewBox="702.5 1726.5 387 387">
    <path d="M 768 1792 C 806 1806 843 1805 869 1792 S 861 1849 868 1852 S 928 1846 930 1838 S 899 1800 924 1797 S 997 1819 1024 1792 C 1025 1832 1013 1871 1023 1891 S 991 1888 983 1893 S 967 1953 973 1949 S 1029 1917 1021 1938 S 1058 2020 1024 2048 C 1001 2019 948 2062 928 2051 S 926 1992 918 1989 S 886 2002 879 2000 S 894 2044 866 2045 S 802 2021 768 2048 C 781 2012 770 1974 775 1950 S 727 1944 726 1937 S 720 1910 727 1904 S 788 1928 777 1899 S 774 1837 768 1792 Z" />
  </svg>,
  <svg width="387" height="387" viewBox="958.5 1726.5 387 387">
    <path d="M 1024 1792 C 1051 1765 1115 1791 1135 1801 S 1137 1846 1132 1852 S 1163 1849 1170 1847 S 1157 1787 1183 1788 S 1240 1791 1280 1792 L 1280 2048 C 1241 2033 1208 2034 1187 2040 S 1170 2001 1169 1993 S 1118 1980 1116 1987 S 1143 2051 1123 2043 S 1047 2077 1024 2048 C 1058 2020 1013 1959 1021 1938 S 979 1945 973 1949 S 975 1898 983 1893 S 1033 1911 1023 1891 S 1025 1832 1024 1792 Z" />
  </svg>,
  <svg width="387" height="387" viewBox="-65.5 1982.5 387 387">
    <path d="M 0 2048 C 31 2073 82 2057 109 2044 S 111 2006 111 2000 S 143 2002 151 2005 S 115 2052 144 2043 S 215 2034 256 2048 C 236 2087 261 2125 256 2149 S 202 2145 196 2141 S 201 2206 208 2209 S 260 2163 257 2191 S 247 2272 256 2304 C 230 2341 169 2296 150 2305 S 151 2255 147 2247 S 103 2253 103 2259 S 130 2303 104 2305 S 40 2307 0 2304  Z" />
  </svg>,
  <svg width="387" height="387" viewBox="190.5 1982.5 387 387">
    <path d="M 256 2048 C 297 2062 340 2062 364 2052 S 350 1993 357 1991 S 405 1983 411 1987 S 376 2060 402 2046 S 471 2064 512 2048 C 542 2072 518 2123 510 2151 S 478 2143 470 2145 S 470 2203 471 2210 S 514 2185 504 2210 S 488 2284 512 2304 C 478 2293 428 2309 405 2309 S 406 2256 407 2248 S 358 2254 360 2261 S 376 2318 349 2309 S 282 2267 256 2304 C 247 2272 254 2219 257 2191 S 215 2212 208 2209 S 190 2137 196 2141 S 251 2173 256 2149 S 236 2087 256 2048 Z" />
  </svg>,
  <svg width="387" height="387" viewBox="446.5 1982.5 387 387">
    <path d="M 512 2048 C 553 2032 590 2046 618 2057 S 608 2081 607 2090 S 665 2098 660 2094 S 627 2059 655 2055 S 734 2075 768 2048 C 755 2084 773 2126 777 2150 S 713 2147 714 2156 S 706 2189 710 2196 S 786 2182 776 2205 S 759 2259 768 2304 C 725 2308 684 2308 663 2309 S 670 2342 663 2344 S 620 2351 612 2350 S 641 2301 616 2301 S 546 2315 512 2304 C 488 2284 494 2235 504 2210 S 472 2217 471 2210 S 462 2147 470 2145 S 502 2179 510 2151 S 542 2072 512 2048 Z" />
  </svg>,
  <svg width="387" height="387" viewBox="702.5 1982.5 387 387">
    <path
      d="M 768 2048 C 802 2021 838 2046 866 2045 S 872 1998 879 2000 S 910 1986 918 1989 S 908 2040 928 2051 S 1001 2019 1024 2048 C 990 2076 1045 2131 1033 2153 S 1070 2147 1075 2143 S 1074 2191 1066 2195 S 1009 2172 1020 2196 S 1018 2272 1024 2304 C 996 2281 938 2315 915 2311 S 924 2356 918 2360 S 871 2369 864 2362 S 899 2296 872 2300 S 811 2300 768 2304 C 759 
  2259 766 2228 776 2205 S 714 2203 710 2196 S 715 2165 714 2156 S 781 2174 777 2150 S 755 2084 768 2048 Z"
    />
  </svg>,
  <svg width="387" height="387" viewBox="958.5 1982.5 387 387">
    <path d="M 1024 2048 C 1047 2077 1103 2035 1123 2043 S 1114 1994 1116 1987 S 1168 1985 1169 1993 S 1166 2046 1187 2040 S 1241 2033 1280 2048 L 1280 2304 C 1260 2274 1190 2289 1168 2298 S 1175 2267 1168 2263 S 1127 2250 1119 2253 S 1146 2314 1117 2308 S 1052 2327 1024 2304 C 1018 2272 1031 2220 1020 2196 S 1058 2199 1066 2195 S 1080 2139 1075 2143 S 1021 2175 1033 2153 S 990 2076 1024 2048 Z" />
  </svg>,
  <svg width="387" height="387" viewBox="-65.5 2238.5 387 387">
    <path d="M 0 2304 C 40 2307 78 2307 104 2305 S 103 2265 103 2259 S 143 2239 147 2247 S 131 2314 150 2305 S 230 2341 256 2304 C 265 2336 262 2375 262 2398 S 221 2406 214 2405 S 209 2446 209 2453 S 252 2433 262 2459 S 261 2521 256 2560 L 0 2560  Z" />
  </svg>,
  <svg width="387" height="387" viewBox="190.5 2238.5 387 387">
    <path d="M 256 2304 C 282 2267 322 2300 349 2309 S 362 2268 360 2261 S 408 2240 407 2248 S 382 2309 405 2309 S 478 2293 512 2304 C 536 2324 505 2380 504 2408 S 567 2402 571 2408 S 562 2458 557 2466 S 517 2426 508 2454 S 485 2540 512 2560 L 256 2560 C 261 2521 272 2485 262 2459 S 209 2460 209 2453 S 207 2404 214 2405 S 262 2421 262 2398 S 265 2336 256 2304 Z" />
  </svg>,
  <svg width="387" height="387" viewBox="446.5 2238.5 387 387">
    <path d="M 512 2304 C 546 2315 591 2301 616 2301 S 604 2349 612 2350 S 656 2346 663 2344 S 642 2310 663 2309 S 725 2308 768 2304 C 777 2349 763 2366 770 2396 S 729 2388 727 2396 S 706 2459 709 2465 S 761 2439 760 2465 S 765 2529 768 2560 L 512 2560 C 485 2540 499 2482 508 2454 S 552 2474 557 2466 S 575 2414 571 2408 S 503 2436 504 2408 S 536 2324 512 2304 Z" />
  </svg>,
  <svg width="387" height="387" viewBox="702.5 2238.5 387 387">
    <path
      d="M 768 2304 C 811 2300 845 2304 872 2300 S 857 2355 864 2362 S 912 2364 918 2360 S 892 2307 915 2311 S 996 2281 1024 2304 C 1030 2336 1045 2376 1032 2402 S 974 2410 968 2404 S 961 2454 965 2449 S 1018 2427 1024 2450 S 991 2532 1024 2560 L 768 2560 C 765 2529 759 2491 760 2465 S 712 2471 709 2465 S 725 2404 727 2396 S 777 2426 770 2396 S 777 2349 768 2304 
  Z"
    />
  </svg>,
  <svg width="387" height="387" viewBox="958.5 2238.5 387 387">
    <path
      d="M 1024 2304 C 1052 2327 1088 2302 1117 2308 S 1111 2256 1119 2253 S 1161 2259 1168 2263 S 1146 2307 1168 2298 S 1260 2274 1280 2304 L 1280 2560 L 1024 2560 C 
  991 2532 1030 2473 1024 2450 S 969 2444 965 2449 S 962 2398 968 2404 S 1019 2428 1032 2402 S 1030 2336 1024 2304 Z"
    />
  </svg>,
];

interface Particle {
  id: number;
  x: number;
  y: number;
  direction: "left" | "right";
  shapeIndex: number;
  speed: number;
  color: string;
}

const estimatedStartOffset = 500; // Eyeball it

export default function ShapesParticles() {
  const [particles, setParticles] = useState<Particle[]>([]);
  const [nextId, setNextId] = useState(0);

  const createParticle = useCallback(() => {
    const direction = Math.random() > 0.5 ? "right" : "left";
    const x =
      direction === "right"
        ? -estimatedStartOffset
        : window.innerWidth + estimatedStartOffset;
    const y = -200 + Math.random() * window.innerHeight;
    const shapeIndex = Math.floor(Math.random() * shapes.length);
    const speed = 1 + 1.6 * Math.random(); // Random speed between 2 and 5
    const colorMap = [
      "rgb(50, 168, 102)",
      "rgb(186, 186, 43)",
      "rgb(171, 34, 34)",
      "rgb(171, 109, 34)",
      "rgb(62, 140, 173)",
      "rgb(72, 21, 143)",
      "rgb(115, 30, 78)",
    ];

    setParticles((prev) => [
      ...prev,
      {
        id: nextId,
        x,
        y,
        direction,
        shapeIndex,
        speed,
        color: colorMap[Math.floor(Math.random() * colorMap.length)],
      },
    ]);
    setNextId((prev) => (prev + 1) % 1000); // Not sure aboute this, my logic if that the win screen gets left long enough could be problematic. Just reset at 1000
  }, [nextId]);

  useEffect(() => {
    const interval = setInterval(() => {
      createParticle();
    }, 300); // Create a new particle every second

    return () => clearInterval(interval);
  }, [createParticle]);

  useEffect(() => {
    const animationFrame = requestAnimationFrame(() => {
      setParticles((prev) => {
        return prev
          .map((particle) => {
            const newX =
              particle.direction === "right"
                ? particle.x + particle.speed
                : particle.x - particle.speed;

            return {
              ...particle,
              x: newX,
            };
          })
          .filter((particle) => {
            // Remove particles that are off-screen
            return (
              particle.x > -estimatedStartOffset &&
              particle.x < window.innerWidth + estimatedStartOffset
            );
          });
      });
    });

    return () => cancelAnimationFrame(animationFrame);
  }, [particles]);

  return (
    <div className="fixed inset-0 overflow-hidden">
      {particles.map((particle) => (
        <div
          key={particle.id}
          style={{
            position: "absolute",
            display: "block",
            left: `${particle.x}px`,
            top: `${particle.y}px`,
            transform: `scale(0.6)`,
            opacity: 0.7,
            fill: particle.color,
            zIndex: "10",
            pointerEvents: "none",
          }}
        >
          {shapes[particle.shapeIndex]}
        </div>
      ))}
    </div>
  );
}
